var e=Object.defineProperty,t=("undefined"!=typeof require&&require,(t,i,r)=>(((t,i,r)=>{i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[i]=r})(t,"symbol"!=typeof i?i+"":i,r),r));!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const i of e)if("childList"===i.type)for(const e of i.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var i="data:image/png;base64,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";class r{constructor(e,i,r){t(this,"w"),t(this,"h"),t(this,"values"),this.w=e,this.h=i,this.values=new Array(e*i);for(let t=0;t<i;t+=r)for(let i=0;i<e;i+=r)this.setSample(i,t,2*Math.random()-1);let s=r,A=1/e,l=1;do{const t=s/2;for(let r=0;r<i;r+=s)for(let i=0;i<e;i+=s){const e=(this.sample(i,r)+this.sample(i+s,r)+this.sample(i,r+s)+this.sample(i+s,r+s))/4+(2*Math.random()-1)*s*A;this.setSample(i+t,r+t,e)}for(let i=0;i<e;i+=s)for(let r=0;r<e;r+=s){const e=this.sample(r,i),l=this.sample(r+s,i),n=this.sample(r,i+s),a=this.sample(r+t,i+t),o=this.sample(r+t,i-t),h=this.sample(r-t,i+t),d=(e+l+a+o)/4+(2*Math.random()-1)*s*A*.5,c=(e+n+a+h)/4+(2*Math.random()-1)*s*A*.5;this.setSample(r+t,i,d),this.setSample(r,i+t,c)}s/=2,A*=l+.8,l*=.3}while(s>1)}sample(e,t){return this.values[(e&this.w-1)+(t&this.h-1)*this.w]}setSample(e,t,i){this.values[(e&this.w-1)+(t&this.h-1)*this.w]=i}}const s=(e,t)=>{const i=new r(e,t,16),s=new r(e,t,16),A=new r(e,t,16),l=new r(e,t,32),n=new r(e,t,32),a=new Array(e*t),h=new Array(e*t);for(let r=0;r<t;r++)for(let h=0;h<e;h++){const d=h+r*e;let c=3*Math.abs(l.values[d]-n.values[d])-2,g=Math.abs(i.values[d]-s.values[d]);g=3*Math.abs(g-A.values[d])-2;let f=h/(e-1)*2-1,w=r/(t-1)*2-1;f<0&&(f=-f),w<0&&(w=-w);let m=f>=w?f:w;m*=m*m*m,m*=m*m*m,c=c+1-20*m,a[d]=c<-.5?o.water.id:o.grass.id}for(let r=0;r<e*t/2800;r++){let i=Math.round(Math.random()*e),r=Math.round(Math.random()*t);for(let s=0;s<10;s++){let s=i+Math.round(21*Math.random()-10),A=r+Math.round(21*Math.random()-10);for(let i=0;i<100;i++){let i=s+Math.round(5*Math.random())-Math.round(5*Math.random()),r=A+Math.round(5*Math.random())-Math.round(5*Math.random());for(let s=r-1;s<=r+1;s++)for(let r=i-1;r<=i+1;r++)r>=0&&s>=0&&r<e&&s<t&&1==a[r+s*e]&&(a[r+s*e]=o.sand.id)}}}for(let r=0;r<e*t/400;r++){const i=Math.round(Math.random()*e),r=Math.round(Math.random()*t);for(let s=0;s<200;s++){const s=i+Math.round(15*Math.random())-Math.round(15*Math.random()),A=r+Math.round(15*Math.random())-Math.round(15*Math.random());s>=0&&A>=0&&s<e&&A<t&&a[s+A*e]==o.grass.id&&(a[s+A*e]=o.tree.id)}}let d=-1,c=-1;for(;-1===d||-1===c;){d=Math.round(Math.random()*e),c=Math.round(Math.random()*t);e:for(let t=c-1;t<=c+1;t++)for(let i=d-1;i<=d+1;i++)if(a[i+t*e]===o.water.id||a[i+t*e]===o.tree.id){d=-1,c=-1;break e}}return a[d+c*e]=o.startingPosition.id,[a,h]};var A,l;(l=A||(A={}))[l.WOOD=0]="WOOD";class n{constructor(e){t(this,"id"),t(this,"isFarmable",!1),t(this,"isPassable",!0),this.id=e}getOutcome(){}}class a extends n{render(e,t,i,r,s,A){const l=e.getTile(i,r-1).id===this.id||e.getTile(i,r-1).id===o.tree.id,n=e.getTile(i,r+1).id===this.id||e.getTile(i,r+1).id===o.tree.id,a=e.getTile(i-1,r).id===this.id||e.getTile(i-1,r).id===o.tree.id,h=e.getTile(i+1,r).id===this.id||e.getTile(i+1,r).id===o.tree.id,d=e.getTile(i-1,r-1).id===this.id||e.getTile(i-1,r-1).id===o.tree.id,c=e.getTile(i+1,r-1).id===this.id||e.getTile(i+1,r-1).id===o.tree.id;l||a?l&&a&&!d?e.renderTile(t,32,32,i,r,s,A):e.renderTile(t,a?8:0,l?32:24,i,r,s,A):e.renderTile(t,0,24,i,r,s,A),l||h?l&&h&&!c?e.renderTile(t,24,32,i,r,s+8,A):e.renderTile(t,h?8:16,l?32:24,i,r,s+8,A):e.renderTile(t,16,24,i,r,s+8,A),n||a?e.renderTile(t,a?8:0,n?32:40,i,r,s,A+8):e.renderTile(t,0,40,i,r,s,A+8),n||h?e.renderTile(t,h?8:16,n?32:40,i,r,s+8,A+8):e.renderTile(t,16,40,i,r,s+8,A+8)}}const o={water:new class extends n{constructor(e){super(e),this.isPassable=!1}render(e,t,i,r,s,A){const l=e.getTile(i,r-1).id===this.id,n=e.getTile(i,r+1).id===this.id,a=e.getTile(i-1,r).id===this.id,o=e.getTile(i+1,r).id===this.id,h=e.getTile(i-1,r-1).id===this.id,d=e.getTile(i+1,r-1).id===this.id;l||a?l&&a&&!h?e.renderTile(t,32,8,i,r,s,A):e.renderTile(t,a?8:0,l?8:0,i,r,s,A):e.renderTile(t,0,0,i,r,s,A),l||o?l&&o&&!d?e.renderTile(t,24,8,i,r,s+8,A):e.renderTile(t,o?8:16,l?8:0,i,r,s+8,A):e.renderTile(t,16,0,i,r,s+8,A),n||a?e.renderTile(t,a?8:0,n?8:16,i,r,s,A+8):e.renderTile(t,0,16,i,r,s,A+8),n||o?e.renderTile(t,o?8:16,n?8:16,i,r,s+8,A+8):e.renderTile(t,16,16,i,r,s+8,A+8),l&&!a&&h&&e.renderTile(t,32,0,i,r,s,A-8),l&&!o&&d&&e.renderTile(t,24,0,i,r,s+8,A-8)}}(0),grass:new a(1),sand:new class extends n{render(e,t,i,r,s,A){e.renderTile(t,40,0,i,r,s,A),e.renderTile(t,40,0,i,r,s+8,A),e.renderTile(t,40,0,i,r,s,A+8),e.renderTile(t,40,0,i,r,s+8,A+8)}}(2),tree:new class extends n{constructor(e){super(e),this.isFarmable=!0,this.isPassable=!1}render(e,t,i,r,s,A){const l=e.getTile(i,r-1).id===o.water.id||e.getTile(i,r-1).id===o.sand.id,n=e.getTile(i,r+1).id===o.water.id||e.getTile(i,r+1).id===o.sand.id,a=e.getTile(i-1,r).id===o.water.id||e.getTile(i-1,r).id===o.sand.id,h=e.getTile(i+1,r).id===o.water.id||e.getTile(i+1,r).id===o.sand.id;l&&a?e.renderTile(t,0,24,i,r,s,A):e.renderTile(t,a?0:8,l?24:32,i,r,s,A),l&&h?e.renderTile(t,16,24,i,r,s+8,A):e.renderTile(t,h?16:8,l?24:32,i,r,s+8,A),n&&a?e.renderTile(t,0,40,i,r,s,A+8):e.renderTile(t,a?0:8,n?40:32,i,r,s,A+8),n&&h?e.renderTile(t,16,40,i,r,s+8,A+8):e.renderTile(t,h?16:8,n?40:32,i,r,s+8,A+8);e.renderTile(t,16,48,i,r,s,A),e.renderTile(t,24,48,i,r,s+8,A),e.renderTile(t,16,56,i,r,s,A+8),e.renderTile(t,24,56,i,r,s+8,A+8)}getOutcome(){return{amount:3,type:A.WOOD}}}(3),startingPosition:new a(999)},h=Object.entries(o).map((([e,t])=>t));var d,c;(c=d||(d={}))[c.OWNED=1]="OWNED",c[c.VISIBLE=6]="VISIBLE";let g=!1;window.onload=()=>{g=!0,b()};let f=!1,w=!1,m=0,u=0,T=0,M=0,S=0,v=0;let D=3;let y=0;const B=(e=>{const t=new Image;return y++,t.onload=()=>{y--,0===y&&b()},t.src=e,t})(i),p=document.querySelector("#map"),I=p.getContext("2d"),O=new class{constructor(){t(this,"scrollX",0),t(this,"scrollY",0),t(this,"scrollSpeed",2),t(this,"keys",[]),window.onkeydown=e=>{this.keys[e.keyCode]=!0},window.onkeyup=e=>{this.keys[e.keyCode]=!1}}update(e,t,i,r){return this.scrollX=e,this.scrollY=t,this.keys[87]&&(this.scrollY+=this.scrollSpeed),this.keys[65]&&(this.scrollX+=this.scrollSpeed),this.keys[83]&&(this.scrollY-=this.scrollSpeed),this.keys[68]&&(this.scrollX-=this.scrollSpeed),this.keys[27]&&i&&i(),this.keys[49]&&r&&r(),[this.scrollX,this.scrollY]}},Y=new Array(1);for(let L=0;L<Y.length;L++)Y[L]={name:"Base",imageX:0,imageY:6};const Q=new class{constructor(e,r){t(this,"tiles"),t(this,"tilesState"),t(this,"tileSize",16),t(this,"tileImage"),t(this,"imagesToLoad",0),t(this,"width"),t(this,"height"),this.width=e,this.height=r,this.tiles=new Array(e*r),this.tilesState=new Array(e*r),this.tileImage=this.loadImage(i)}loadImage(e){var t=new Image;return this.imagesToLoad++,t.onload=()=>{this.imagesToLoad--,0===this.imagesToLoad&&this.init()},t.src=e,t}init(){const e=((e,t)=>{for(;;){const i=s(e,t),r=new Array(256);for(let s=0;s<e*t;s++)r[255&i[0][s]]++;if(!(r[2]<100||r[1]<100))return i}})(this.width,this.height);this.tiles=e[0],this.tilesState=e[1],this.tilesState.fill(0)}render(e,t,i,r,s){const A=Math.floor(-i/this.tileSize),l=Math.floor(-r/this.tileSize),n=Math.ceil((-i+e.width/s)/this.tileSize),a=Math.ceil((-r+e.height/s)/this.tileSize);for(let o=l;o<a;o++)for(let e=A;e<n;e++){const s=this.getTile(e,o),A=this.getTileState(e,o,1);s.render(this,t,e,o,i,r),1===A&&t.drawImage(this.tileImage,0,48,16,16,e*this.tileSize+i,o*this.tileSize+r,16,16)}for(let o=l;o<a;o++)for(let e=A;e<n;e++){const s=this.getTileState(e,o,6);if(1===s)t.drawImage(this.tileImage,240,16,8,8,e*this.tileSize+i+0,o*this.tileSize+r+0,8,8),t.drawImage(this.tileImage,240,16,8,8,e*this.tileSize+i+8,o*this.tileSize+r+0,8,8),t.drawImage(this.tileImage,240,16,8,8,e*this.tileSize+i+0,o*this.tileSize+r+8,8,8),t.drawImage(this.tileImage,240,16,8,8,e*this.tileSize+i+8,o*this.tileSize+r+8,8,8);else for(let A=0;A<4;A++){const l=A%2*2-1,n=2*(A>>1)-1,a=this.getTileState(e,o+n,6)!==s,h=this.getTileState(e+l,o,6)!==s;let d=25,c=1;3===s&&(c+=3),a&&(c+=n),h&&(d+=l),t.drawImage(this.tileImage,8*d,8*c,8,8,e*this.tileSize+i+A%2*8,o*this.tileSize+r+8*(A>>1),8,8)}}}renderTile(e,t,i,r,s,A,l){e.drawImage(this.tileImage,t,i,8,8,r*this.tileSize+A,s*this.tileSize+l,8,8)}getTile(e,t){if(e<0||t<0||e>=this.width||t>=this.height)return o.water;const i=h.find((i=>this.tiles[e+t*this.width]===i.id));return null!=i?i:o.water}getTileState(e,t,i){return e<0||t<0||e>=this.width||t>=this.height?0:6===i?(this.tilesState[e+t*this.width]&i)>>1:this.tilesState[e+t*this.width]&i}setTileState(e,t,i,r){if(!(e<0||t<0||e>=this.width||t>=this.height))if(6===r){const r=this.tilesState[e+t*this.width];this.tilesState[e+t*this.width]=i<<1|1&r}else this.tilesState[e+t*this.width]^=i}setTile(e,t,i){e<0||t<0||e>=this.width||t>=this.height||(this.tiles[e+t*this.width]=i.id)}recalcVisibility(){for(let e=0;e<this.height;e++)for(let t=0;t<this.width;t++){let i=this.getTileState(t,e,6);3===i&&(i>>=1),this.setTileState(t,e,i,6)}for(let e=0;e<this.height;e++)for(let t=0;t<this.width;t++){this.getTileState(t,e,1)&&this.revealTile(t,e,4)}}revealTile(e,t,i){for(let r=t-i;r<=t+i;r++)if(!(r<0||r>=this.height))for(let s=e-i;s<=e+i;s++){if(s<0||s>=this.width)continue;const A=s-e,l=r-t;if(A*A+l*l<=i*i+2){if(0===r||0===s||s===this.width-1||r===this.height-1)continue;this.setTileState(s,r,3,6)}}}}(128,128),b=()=>{if(g&&!(y>0)){p.width=window.innerWidth,p.height=window.innerHeight,p.onmousedown=e=>{e.preventDefault(),f=!0,w=!1,m=e.clientX,u=e.clientY},p.onclick=e=>{if(f=!1,!w){const t=Math.floor(T+16*-S+window.innerWidth/D/2),i=Math.floor(M+16*-v+window.innerHeight/D/2),r=Math.floor((e.clientX/D-t)/16),s=Math.floor((e.clientY/D-i)/16);q(r,s,e.clientX/D,e.clientY/D)}};for(let e=0;e<128;e++)for(let t=0;t<128;t++){const i=t+128*e;Q.tiles[i]===o.startingPosition.id&&(S=t,v=e,Q.setTileState(S,v,1,d.OWNED),Q.recalcVisibility())}window.onmousemove=e=>{if(f){e.preventDefault();var t=e.clientX-m,i=e.clientY-u;(w||t*t+i*i>64)&&(w=!0,T+=t/D,M+=i/D,m=e.clientX,u=e.clientY,requestAnimationFrame(H))}},N(),H()}};let k=null,C=null,P=!1;const q=(e,t,i=800,r=600)=>{const s=Math.floor(I.canvas.width/D),A=Math.floor(I.canvas.height/D);if(i>=0&&i<=s&&r>=A-35&&r<=A&&k&&C){return void(Q.getTile(k,C).isPassable&&G(i,r))}if(e<0||t<0||e>128||t>128)return k=null,void(C=null);const l=Q.getTileState(e,t,d.VISIBLE);if(0===l)return k=null,C=null,void requestAnimationFrame(H);k===e&&C===t||(k=e,C=t,P=3===l),requestAnimationFrame(H)},N=()=>{requestAnimationFrame(N);const e=O.update(T,M,(()=>{requestAnimationFrame(H)}),(()=>{k&&C&&(Q.setTileState(k,C,1,d.OWNED),Q.recalcVisibility(),requestAnimationFrame(H),k=null,C=null)}));T===e[0]&&M===e[1]||(T=e[0],M=e[1],requestAnimationFrame(H))},H=()=>{D=Math.max(Math.floor(p.height/300+1),Math.floor(p.width/(16/9*300)+1)),T>16*S&&(T=16*S),M>16*v&&(M=16*v),T<16*S-2016&&(T=16*S-2016),M<16*v-2016&&(M=16*v-2016),I.imageSmoothingEnabled=!1,I.setTransform(D,0,0,D,0,0);const e=Math.floor(T+16*-S+window.innerWidth/D/2),t=Math.floor(M+16*-v+window.innerHeight/D/2);Q.render(p,I,e,t,D);for(var i=0;i<Y.length;i++){const e=Math.floor(I.canvas.width/D),t=Math.floor(I.canvas.height/D);I.fillStyle="rgba(255, 255, 255, 0.3)",I.fillRect(0,t-35,e,t),E(Y[i].name,e/2+2,t-25-5,3),J(Y[i].imageX,Y[i].imageY,e/2,t-25)}if(k&&C&&(I.strokeStyle="white",I.strokeRect(16*k+e,16*C+t,16,16),P)){const i=Q.getTile(k,C).getOutcome();i&&(I.fillStyle="rgba(255, 255, 255, 0.3)",I.fillRect(16*k+e+16,16*C+t,18,16),I.drawImage(B,0,64,8,8,16*k+e+18,16*C+t+4,8,8),E(`${i.amount}`,16*k+e+27,16*C+t+5,5))}X()},X=()=>{I.drawImage(B,0,64,8,8,4,4,8,8),E("0",14,5,6)},z="ABCDEFGHIJKLMNOPQRSTUVWXYZ      0123456789.,!?'\":;()+-=*/\\%     ",E=(e,t,i,r=8)=>{e=e.toUpperCase();for(var s=0;s<e.length;s++){var A=z.indexOf(e.charAt(s)),l=0+A%32,n=29+(A>>5);I.drawImage(B,8*l,8*n,8,8,t+s*r,i,r,r)}},G=(e,t)=>{const i=Math.floor(I.canvas.width/D)/2,r=Math.floor(I.canvas.height/D)-25;e>=i&&e<=i+16&&t>=r&&t<=r+16&&k&&C&&(Q.setTileState(k,C,1,d.OWNED),Q.recalcVisibility(),requestAnimationFrame(H),k=null,C=null)},J=(e,t,i,r)=>{I.beginPath(),I.strokeStyle="yellow",I.rect(i,r,16,16),I.stroke(),I.drawImage(B,8*e,8*t,16,16,i,r,16,16)};
